(this.webpackJsonpitrex=this.webpackJsonpitrex||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(5),r=n.n(i),s=(n(15),n(10)),l=(n(16),function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}),o=n(2),u="SET_Initial_Data",d="SET_Form_State",j="SET_Filter_Values",m="SET_Current_Page",p="SET_Sort_Values",f=function(e){return{type:m,payload:e}},b=function(e){return{type:p,payload:e}},h=(n(23),n(0)),O=function(e){var t=e.data,n=e.onClick,a=t.id,c=t.firstName,i=t.lastName,r=t.email,s=t.phone,l=t.adress;return Object(h.jsxs)("tr",{onClick:function(){n(t)},children:[Object(h.jsx)("td",{children:a}),Object(h.jsx)("td",{children:c}),Object(h.jsx)("td",{children:i}),Object(h.jsx)("td",{children:r}),Object(h.jsx)("td",{children:s}),Object(h.jsx)("td",{children:l.state})]})},x=(n(25),function(e){var t=e.data,n=t.adress,a=t.description,c=t.firstName,i=t.lastName,r=n.zip,s=n.state,l=n.city,o=n.streetAddress;return Object(h.jsxs)("div",{className:"infoForm",children:[Object(h.jsx)("h3",{children:"Profile info: "}),Object(h.jsxs)("ul",{className:"infoForm__list",children:[Object(h.jsxs)("li",{className:"infoForm__li",children:[Object(h.jsx)("span",{children:"Selected profile:"})," ",c+" "+i]}),Object(h.jsxs)("li",{className:"infoForm__li",children:[Object(h.jsx)("span",{children:"Description: "})," ",a]}),Object(h.jsxs)("li",{className:"infoForm__li",children:[Object(h.jsx)("span",{children:"Address: "})," ",o]}),Object(h.jsxs)("li",{className:"infoForm__li",children:[Object(h.jsx)("span",{children:"City: "})," ",l]}),Object(h.jsxs)("li",{className:"infoForm__li",children:[Object(h.jsx)("span",{children:"State: "})," ",s]}),Object(h.jsxs)("li",{className:"infoForm__li",children:[Object(h.jsx)("span",{children:"Index: "})," ",r]})]})]})});function g(e){return!!localStorage.getItem(e)}function v(e){return JSON.parse(localStorage.getItem(e))}var _="data",N=(n(26),function(e){var t=e.data,n=e.onClick,a=e.currentPage;return Object(h.jsxs)("ul",{className:"pagination",children:[Object(h.jsx)("li",{className:"pagination__li",children:Object(h.jsx)("button",{className:"pagination__button",onClick:n,name:"previousPage",children:"Previous"})}),t.map((function(e){return Object(h.jsx)("li",{className:"pagination__li",children:Object(h.jsx)("button",{className:"pagination__button ".concat(a===e?"active":""),value:e,onClick:n,name:"page-".concat(e),children:e})})})),Object(h.jsx)("li",{className:"pagination__li",children:Object(h.jsx)("button",{className:"pagination__button",onClick:n,name:"nextPage",children:"Next"})})]})});var y=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.initialData})),n=Object(o.c)((function(e){return e.infoFormState})),c=Object(o.c)((function(e){return e.currentPage})),i=Object(o.c)((function(e){return e.filterValues})),r=Object(o.c)((function(e){return e.sortValues}));Object(a.useEffect)((function(){g(_)||fetch("https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json",{method:"GET",mode:"cors"}).then(l).then((function(t){var n,a;e({type:u,payload:t}),n=_,a=t,localStorage.setItem(n,JSON.stringify(a))})).catch((function(e){return console.log(e)}))}),[]);var m=function(e){var t=e.id,n=r.column,a=r.ascending;return t===n&&a?Object(h.jsx)("span",{children:"\u25b2"}):Object(h.jsx)("span",{children:"\u25bc"})},p=function(){return function(e){return e.sort((function(e,t){var n,a,c=r.column,i=r.ascending;return c.includes(".")?(n=e[c.split(".")[0]][c.split(".")[1]],a=t[c.split(".")[0]][c.split(".")[1]]):(n=e[c],a=t[c]),n>a?i?1:-1:n<a?i?-1:1:0}))}(function(e){return e.filter((function(e){var t=i.state;return t&&""!==t?e.adress.state===t:e}))}(t.filter((function(e){var t=i.name.toLowerCase(),n=null===e.firstName?"null":e.firstName.toLowerCase(),a=null===e.lastName?"null":e.lastName.toLowerCase();return n&&n.includes(t)||a&&a.includes(t)?e:console.log("nothing found")}))))},v=p().length,y=Math.ceil(v/20),S=function(t){var n=t.target,a=n.value,c=n.name;e({type:j,payload:{value:a,name:c}})},C=function(t){var n=t.target.id,a=r.column,c=r.ascending;e(b(a===n?{ascending:!c,column:n}:{ascending:!0,column:n}))};return Object(h.jsx)("div",{className:"page",children:Object(h.jsxs)("div",{className:"app",children:[Object(h.jsxs)("label",{className:"app__search",children:["Search by name: ",Object(h.jsx)("input",{type:"text",name:"name",autoComplete:"off",className:"app__search_input",onChange:S})]}),Object(h.jsxs)("label",{className:"app__state",children:["Filter by state:",Object(h.jsxs)("select",{name:"state",onChange:S,className:"app__state_input",children:[Object(h.jsx)("option",{value:"",children:"---"}),function(e){var t={};return e.forEach((function(e){t[e.adress.state]=e.adress.state})),Object.keys(t).sort((function(e,t){return e-t}))}(t).map((function(e){return Object(h.jsx)("option",{value:e,children:e})}))]})]}),Object(h.jsxs)("table",{border:1,className:"app__table",children:[Object(h.jsx)("thead",{children:Object(h.jsx)("tr",{children:Object.entries({id:"Id",firstName:"First Name",lastName:"Last Name",email:"Email",phone:"Phone","adress.state":"State"}).map((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(h.jsxs)("td",{onClick:C,id:n,children:[a," ",Object(h.jsx)(m,{id:n})]})}))})}),Object(h.jsx)("tbody",{children:p().slice(20*(c-1),20*c).map((function(t){return Object(h.jsx)(O,{data:t,onClick:function(t){e({type:d,payload:t})}},t.id+t.firstName)}))})]}),Object(h.jsx)("div",{className:"app__pagination",children:Object(h.jsx)(N,{onClick:function(t){var n=t.target,a=n.value,i=n.name;"previousPage"===i&&e(f(1===c?c:c-1));"nextPage"===i?e(f(c<y?c+1:c)):i.includes("page")&&e(f(parseInt(a)))},data:function(){for(var e=[],t=1;t<=y;t++)e.push(t);return e}(),currentPage:c})}),Object(h.jsx)("div",{className:"app__infoForm",children:Object(h.jsx)(x,{data:n})})]})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},C=n(4),F=g(_)?v(_):[];var P={description:"Description",email:"email@email.com",firstName:"First Name",lastName:"Last Name",phone:"(999)999-9999",adress:{city:"City",state:"State",streetAddress:"Street",zip:"00000"}};var k=n(6),E=n(3),I={name:"",state:""},T=function(e,t){var n=t.payload,a=n.value,c=n.name;return Object(E.a)(Object(E.a)({},e),{},Object(k.a)({},c,a))};var w={ascending:!0,column:"id"};var L=Object(C.b)({initialData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;return t.type===u?t.payload:e},infoFormState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;return t.type===d?t.payload:e},filterValues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;return t.type===j?T(e,t):e},sortValues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;return t.type===p?t.payload:e},currentPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return t.type===m?t.payload:e}}),D=Object(C.c)(L,Object(C.a)((function(e){return function(t){return function(n){var a=t(n);return console.log("Middleware",e.getState()),a}}}))),V=function(e){return Object(h.jsx)(o.a,{store:D,children:e.children})};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(V,{children:Object(h.jsx)(y,{})})}),document.getElementById("root")),S()}},[[27,1,2]]]);
//# sourceMappingURL=main.b160a92b.chunk.js.map